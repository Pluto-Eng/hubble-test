{"openapi":"3.0.0","info":{"title":"pluto-api - v1","version":"1.0.0","description":"undefined\n\n**API Version:** v1\n\nThis is version 1 of the API. For information about our versioning strategy, please refer to the API_VERSIONING.md documentation.","contact":{"name":"API Support","email":"jason@plutocredit.com"},"license":{"name":"ISC","url":"https://opensource.org/licenses/ISC"}},"servers":[{"url":"http://localhost:3000/api/v1","description":"Development server (v1)"},{"url":"http://charon-staging-alb-296936603.us-east-2.elb.amazonaws.com/api/v1","description":"Staging server (v1)"}],"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT Bearer token authentication"}},"responses":{"UnauthorizedError":{"description":"Access token is missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"ForbiddenError":{"description":"Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"schemas":{"Account":{"type":"object","description":"A system account","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the account","readOnly":true},"nameFamily":{"type":"string","minLength":1,"maxLength":100,"description":"Family name (last name)"},"nameGiven":{"type":"string","minLength":1,"maxLength":100,"description":"Given name (first name)"},"nameMiddle":{"type":"string","minLength":1,"maxLength":100,"description":"Middle name"},"email":{"type":"string","format":"email","minLength":3,"maxLength":100,"description":"Email address"},"phone":{"type":"string","minLength":1,"maxLength":15,"description":"Phone number"},"secId":{"type":"string","description":"Security identifier"},"type":{"type":"string","enum":["individual","business"],"description":"Account type"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the account was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the account was last updated","readOnly":true}},"required":["nameFamily","nameGiven","email"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","nameFamily":"Jackson","nameGiven":"Samuel","nameMiddle":"L","email":"samuel.jackson@example.com","phone":"555-0102","secId":"SECNEW001","type":"individual","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"FileRef":{"type":"object","description":"A file reference document","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the file reference","readOnly":true},"documentableId":{"type":"string","format":"uuid","description":"The ID of the entity this file is associated with"},"documentableType":{"type":"string","description":"The type of entity this file is associated with"},"filename":{"type":"string","description":"Original filename"},"fileContentType":{"type":"string","description":"MIME type of the file"},"filepath":{"type":"string","description":"File path or location"},"documentType":{"type":"string","description":"Type of document"},"status":{"type":"string","enum":["pending","approved","rejected"],"description":"File status"},"size":{"type":"integer","description":"File size in bytes"},"encoding":{"type":"string","description":"File encoding"},"awsBucket":{"type":"string","description":"AWS S3 bucket name"},"awsKey":{"type":"string","description":"AWS S3 object key"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the file was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the file was last updated","readOnly":true}},"required":["documentableId","documentableType"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","documentableId":"987fcdeb-51a2-43d1-9f7e-123456789abc","documentableType":"LoanApplication","filename":"income_statement.pdf","fileContentType":"application/pdf","documentType":"income_statement","status":"pending","size":2048576,"createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"LoanApplication":{"type":"object","description":"A loan application","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the loan application","readOnly":true},"accountId":{"type":"string","format":"uuid","description":"The ID of the associated account"},"status":{"type":"string","enum":["draft","pending","approved","declined","closed"],"description":"Current status of the loan application"},"name":{"type":"string","minLength":1,"maxLength":100,"description":"Name or title of the loan application"},"employmentStatus":{"type":"string","enum":["employed","self-employed","unemployed","retired","student","other"],"description":"Employment status of the applicant"},"incomeTotalAmount":{"type":"number","minimum":0,"description":"Total income amount"},"incomeTotalCurrency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the total income"},"assetTotalValue":{"type":"number","minimum":0,"description":"Total value of assets"},"assetTotalCurrency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the total asset value"},"loanAmount":{"type":"number","minimum":0,"description":"Requested loan amount"},"loanCurrency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the requested loan"},"loanInterestRate":{"type":"number","minimum":0,"description":"Interest rate for the loan"},"loanInterestPeriod":{"type":"string","enum":["days","weeks","months","quarters","years"],"description":"Interest calculation period"},"openDate":{"type":"string","format":"date","description":"Date when the application was opened"},"closeDate":{"type":"string","format":"date","description":"Date when the application was closed"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the loan application was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the loan application was last updated","readOnly":true}},"required":["accountId","name"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","accountId":"987fcdeb-51a2-43d1-9f7e-123456789abc","status":"pending","name":"Home Improvement Loan","employmentStatus":"self-employed","incomeTotalAmount":85000,"incomeTotalCurrency":"USD","assetTotalValue":250000,"assetTotalCurrency":"USD","loanAmount":50000,"loanCurrency":"USD","loanInterestRate":5.5,"loanInterestPeriod":"months","openDate":"2024-01-15","closeDate":"2024-12-15","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"LoanAsset":{"type":"object","description":"Represents a loan asset or investment","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the loan asset","readOnly":true},"loanApplicationId":{"type":"string","format":"uuid","description":"The ID of the associated loan application"},"fund":{"type":"string","minLength":1,"maxLength":100,"description":"Fund name or identifier"},"investor":{"type":"string","minLength":1,"maxLength":100,"description":"Investor name or identifier"},"phone":{"type":"string","minLength":1,"maxLength":100,"description":"Contact phone number"},"dateOrigin":{"type":"string","format":"date","description":"Date when the asset was originated"},"units":{"type":"number","minimum":0,"description":"Total number of units"},"unitsPledged":{"type":"number","minimum":0,"description":"Number of units pledged"},"unitsCalled":{"type":"number","minimum":0,"description":"Number of units called"},"unitsInvested":{"type":"number","minimum":0,"description":"Number of units invested"},"unitValue":{"type":"number","minimum":0,"description":"Value per unit"},"unitCurrency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the unit value"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the loan asset was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the loan asset was last updated","readOnly":true}},"required":["loanApplicationId","fund","investor"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","loanApplicationId":"987fcdeb-51a2-43d1-9f7e-123456789abc","fund":"Growth Fund I","investor":"ABC Investment LLC","phone":"+1-555-0123","dateOrigin":"2023-01-15","units":1000,"unitsPledged":800,"unitsCalled":600,"unitsInvested":600,"unitValue":100,"unitCurrency":"USD","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"LoanIncome":{"type":"object","description":"Represents a loan income source","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the loan income","readOnly":true},"loanApplicationId":{"type":"string","format":"uuid","description":"The ID of the associated loan application"},"phone":{"type":"string","minLength":1,"maxLength":100,"description":"Contact phone number"},"name":{"type":"string","minLength":1,"maxLength":100,"description":"Income source name or description"},"amount":{"type":"number","minimum":0,"description":"Income amount"},"currency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the income amount"},"year":{"type":"number","minimum":2020,"description":"The year this income applies to"},"period":{"type":"string","enum":["MONTHLY","QUARTERLY","YEARLY"],"description":"The period frequency of this income"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the loan income was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the loan income was last updated","readOnly":true}},"required":["loanApplicationId","name","amount","currency"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","loanApplicationId":"987fcdeb-51a2-43d1-9f7e-123456789abc","phone":"+1-555-0123","name":"Salary - ABC Corp","amount":75000,"currency":"USD","year":2024,"period":"YEARLY","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"Loan":{"type":"object","description":"A loan","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the loan","readOnly":true},"accountId":{"type":"string","format":"uuid","description":"The ID of the associated account"},"name":{"type":"string","minLength":1,"maxLength":100,"description":"Loan name or identifier"},"loanApplicationId":{"type":"string","minLength":1,"maxLength":100,"description":"Associated loan application ID"},"status":{"type":"string","enum":["open","defaulted","closed"],"description":"Current status of the loan"},"balanceOpen":{"type":"number","minimum":0,"description":"Opening balance of the loan"},"balanceCurrent":{"type":"number","minimum":0,"description":"Current outstanding balance"},"currency":{"type":"string","enum":["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","SEK","NZD"],"description":"Currency of the loan amounts"},"dateOpen":{"type":"string","format":"date","description":"Date when the loan was opened"},"dateClose":{"type":"string","format":"date","description":"Date when the loan was closed"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the loan was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the loan was last updated","readOnly":true}},"required":["accountId","name"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","accountId":"987fcdeb-51a2-43d1-9f7e-123456789abc","name":"Personal Loan Q3","loanApplicationId":"456def78-9abc-1234-5678-901234567890","status":"open","balanceOpen":50000,"balanceCurrent":45000,"currency":"USD","dateOpen":"2024-01-15","dateClose":"2027-01-15","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"Organization":{"type":"object","description":"An organization in the system","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the organization","readOnly":true},"name":{"type":"string","minLength":1,"maxLength":100,"description":"Organization name"},"type":{"type":"string","enum":["admin","client"],"description":"Organization type (admin for Pluto Credit, client for external organizations)"},"status":{"type":"string","enum":["active","suspended"],"description":"Organization status"},"domain":{"type":"string","minLength":3,"maxLength":255,"description":"Email domain for automatic user-organization association"},"contactEmail":{"type":"string","format":"email","minLength":5,"maxLength":255,"description":"Primary contact email for the organization"},"contactName":{"type":"string","minLength":1,"maxLength":100,"description":"Primary contact person name"},"settings":{"type":"object","description":"Organization-specific settings and configuration"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the organization was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the organization was last updated","readOnly":true},"deletedAt":{"type":"string","format":"date-time","description":"Timestamp when the organization was deleted","readOnly":true}},"required":["name","type"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","name":"Acme Corporation","type":"client","status":"active","domain":"acme.com","contactEmail":"admin@acme.com","contactName":"John Smith","settings":{},"createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"User":{"type":"object","description":"A system user","properties":{"id":{"type":"string","format":"uuid","description":"The unique identifier for the user","readOnly":true},"type":{"type":"string","enum":["individual","manager","admin"],"default":"individual","description":"The type of user"},"nameGiven":{"type":"string","minLength":1,"maxLength":100,"pattern":"^[\\p{L}\\p{M}\\s\\-'.]+$","description":"Given name supporting international characters"},"nameMiddle":{"type":"string","minLength":1,"maxLength":100,"pattern":"^[\\p{L}\\p{M}\\s\\-'.]+$","description":"Middle name supporting international characters"},"nameFamily":{"type":"string","minLength":1,"maxLength":100,"pattern":"^[\\p{L}\\p{M}\\s\\-'.]+$","description":"Family name supporting international characters"},"email":{"type":"string","format":"email","minLength":5,"maxLength":255,"description":"User's email address"},"phone":{"type":"string","minLength":10,"maxLength":20,"description":"Phone number in international format"},"secId":{"type":"string","minLength":8,"maxLength":20,"pattern":"^[A-Z0-9]{8,20}$","description":"SEC ID - 8-20 alphanumeric characters"},"cognitoUsername":{"type":"string","minLength":3,"maxLength":128,"description":"Cognito username identifier","readOnly":true},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when the user was created","readOnly":true},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when the user was last updated","readOnly":true}},"required":["email","nameFamily","email"],"example":{"id":"123e4567-e89b-12d3-a456-426614174000","type":"individual","nameGiven":"John","nameMiddle":"Michael","nameFamily":"Doe","email":"user@example.com","phone":"+1-555-0123","secId":"SEC12345678","cognitoUsername":"user123","createdAt":"2023-03-10T14:20:00Z","updatedAt":"2023-03-10T14:20:00Z"}},"AuthRequest":{"type":"object","description":"Authentication request","properties":{"username":{"type":"string","format":"email","description":"User's email address"},"password":{"type":"string","format":"password","description":"User's password"}},"required":["username","password"],"example":{"username":"user@example.com","password":"SecurePassword123!"}},"AuthResponse":{"type":"object","description":"Authentication response","properties":{"accessToken":{"type":"string","description":"JWT access token"},"refreshToken":{"type":"string","description":"JWT refresh token"},"idToken":{"type":"string","description":"JWT ID token"},"expiresIn":{"type":"integer","description":"Token expiration time in seconds"},"tokenType":{"type":"string","example":"Bearer","description":"Token type"}}},"ErrorResponse":{"type":"object","description":"Standard error response format","properties":{"id":{"type":"string","format":"uuid","description":"Request ID associated with the error"},"message":{"type":"string","description":"Human-readable error message"},"statusCode":{"type":"integer","description":"HTTP status code"},"feedback":{"type":"string","description":"User-friendly feedback message (optional)"},"errors":{"type":"object","description":"Validation error details (optional, typically for 400/422)","additionalProperties":{"type":"string"}},"data":{"type":"string","description":"Stack trace in development mode for 500 errors"}},"example":{"id":"f47ac10b-58cc-4372-a567-0e02b2c3d479","message":"Validation failed","statusCode":422,"feedback":"Please check your input","errors":{"email":"Invalid email format"}}},"SuccessResponse":{"type":"object","description":"Standard success response format","properties":{"id":{"type":"string","format":"uuid","description":"Request ID"},"message":{"type":"string","example":"Success","description":"Success message"},"statusCode":{"type":"integer","example":200,"description":"HTTP status code"},"data":{"description":"Response data (varies by endpoint)"},"count":{"type":"integer","description":"Number of items returned (for array responses)"}}}},"parameters":{"LimitParam":{"in":"query","name":"pLimit","schema":{"type":"integer","minimum":1,"maximum":100,"default":20},"description":"Maximum number of items to return"},"OffsetParam":{"in":"query","name":"pOffset","schema":{"type":"integer","minimum":0,"default":0},"description":"Number of items to skip for pagination"},"OrderParam":{"in":"query","name":"pOrder","schema":{"type":"string"},"description":"Comma-separated list of fields to order by. Use '+' for ascending (default) and '-' for descending"},"FieldsParam":{"in":"query","name":"pFields","schema":{"type":"string"},"description":"Comma-separated list of fields to return"}}},"security":[{"BearerAuth":[]}],"paths":{"/accounts":{"get":{"tags":["Accounts"],"summary":"Retrieve a list of accounts","description":"Fetches a list of all accounts. Supports filtering, pagination, sorting, and field selection.","parameters":[{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of accounts.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Account"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Accounts"],"summary":"Create a new account","description":"Adds a new account to the system.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"},"example":{"nameGiven":"Samuel","nameFamily":"Jackson","email":"samuel.jackson@example.com","phone":"555-0102","secId":"SECNEW001","type":"individual"}}}},"responses":{"201":{"description":"Account created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Account"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{id}":{"get":{"tags":["Accounts"],"summary":"Retrieve a specific account by ID","description":"Fetches details for a single account.","security":[{"BearerAuth":[]}],"parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved account details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Account"}}}]}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Accounts"],"summary":"Update an existing account","description":"Modifies fields of an existing account.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Account"},"example":{"email":"updated.email@example.com","phone":"555-9999","type":"manager"}}}},"responses":{"200":{"description":"Account updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Account"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Accounts"],"summary":"Delete an account","description":"Removes an account from the system.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to delete."}],"responses":{"204":{"description":"Account deleted successfully."},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{documentableId}/files":{"get":{"tags":["Files"],"summary":"Retrieve all files for a documentable entity","description":"Fetches a list of all file references associated with a loan application or other documentable entity. Supports pagination, sorting, and field selection.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of file references.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/FileRef"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Entity not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Files"],"summary":"Upload a file for a loan application","description":"Uploads a file and creates a file reference associated with a loan application. The file is stored in AWS S3.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"document":{"type":"string","format":"binary","description":"The file to upload"},"documentType":{"type":"string","description":"Type of document being uploaded"}},"required":["document"]}}}},"responses":{"201":{"description":"File uploaded successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/FileRef"}}}]}}}},"400":{"description":"Bad Request - Invalid file or missing parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large - File too large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{documentableId}/files/{id}":{"get":{"tags":["Files"],"summary":"Retrieve a specific file by ID","description":"Fetches details for a single file reference.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the file to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved file details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/FileRef"}}}]}}}},"404":{"description":"File not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Files"],"summary":"Update an existing file reference","description":"Modifies fields of an existing file reference (metadata only, not the file content).","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the file to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"documentType":{"type":"string","description":"Type of document"},"status":{"type":"string","enum":["pending","approved","rejected"],"description":"File status"}}},"example":{"documentType":"financial_statement","status":"approved"}}}},"responses":{"200":{"description":"File reference updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/FileRef"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"File not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Files"],"summary":"Delete a file","description":"Removes a file reference from the system (file content remains in S3).","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the file to delete."}],"responses":{"204":{"description":"File reference deleted successfully."},"404":{"description":"File not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{documentableId}/files/{id}/download":{"get":{"tags":["Files"],"summary":"Download a file","description":"Downloads the actual file content from AWS S3.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"documentableId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application or other documentable entity"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the file to download."}],"responses":{"200":{"description":"File download successful.","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"File not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health check endpoint","description":"Returns the health status of the API and its dependencies","security":[],"responses":{"200":{"description":"Health check successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"object","properties":{"database":{"type":"object","properties":{"status":{"type":"string","enum":["ok","error"]},"error":{"type":"string","description":"Error message if database is down"}}},"uptime":{"type":"number","description":"Server uptime in seconds"},"serverTime":{"type":"number","description":"Current server timestamp"}}}}}]},"example":{"id":"123e4567-e89b-12d3-a456-426614174000","message":"Success","statusCode":200,"data":{"database":{"status":"ok"},"uptime":3600,"serverTime":1677581234567}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications":{"get":{"tags":["Loan Applications"],"summary":"Retrieve all loan applications for a specific account","description":"Fetches a list of all loan applications associated with the given account ID. Supports pagination, sorting, and field selection.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to retrieve loan applications for."},{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of loan applications.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/LoanApplication"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Loan Applications"],"summary":"Create a new loan application for an account","description":"Adds a new loan application associated with a specific account. The account ID is taken from the path.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to associate the loan application with."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanApplication"},"example":{"name":"Home Improvement Loan","employmentStatus":"Self-Employed","incomeTotalAmount":85000,"incomeTotalCurrency":"USD","assetTotalValue":250000,"assetTotalCurrency":"USD","openDate":"2024-01-15"}}}},"responses":{"201":{"description":"Loan application created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanApplication"}}}]}}}},"400":{"description":"Bad Request - Invalid input data or missing accountId","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{id}":{"get":{"tags":["Loan Applications"],"summary":"Retrieve a specific loan application by ID","description":"Fetches details for a single loan application.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved loan application details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanApplication"}}}]}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Loan Applications"],"summary":"Update an existing loan application","description":"Modifies fields of an existing loan application.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanApplication"},"example":{"name":"Updated Home Loan","incomeTotalAmount":95000,"assetTotalValue":275000}}}},"responses":{"200":{"description":"Loan application updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanApplication"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Loan Applications"],"summary":"Delete a loan application","description":"Removes a loan application from the system.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application to delete."}],"responses":{"204":{"description":"Loan application deleted successfully."},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{loanApplicationId}/assets":{"get":{"tags":["Loan Assets"],"summary":"Retrieve all loan assets for a loan application","description":"Fetches a list of all loan assets associated with a specific loan application. Supports pagination, sorting, and field selection.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of loan assets.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/LoanAsset"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Loan Assets"],"summary":"Create a new loan asset for a loan application","description":"Adds a new loan asset associated with a specific loan application. The loan application ID is taken from the path.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanAsset"},"example":{"fund":"Growth Fund I","investor":"ABC Investment LLC","phone":"+1-555-0123","dateOrigin":"2023-01-15","units":1000,"unitsPledged":800,"unitValue":100,"unitCurrency":"USD"}}}},"responses":{"201":{"description":"Loan asset created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanAsset"}}}]}}}},"400":{"description":"Bad Request - Invalid input data or missing loan application ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{loanApplicationId}/assets/{id}":{"get":{"tags":["Loan Assets"],"summary":"Retrieve a specific loan asset by ID","description":"Fetches details for a single loan asset.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan asset to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved loan asset details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanAsset"}}}]}}}},"404":{"description":"Loan asset not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Loan Assets"],"summary":"Update an existing loan asset","description":"Modifies fields of an existing loan asset.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan asset to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"fund":{"type":"string","description":"Fund name or identifier"},"investor":{"type":"string","description":"Investor name or identifier"},"phone":{"type":"string","description":"Contact phone number"},"units":{"type":"number","description":"Total number of units"},"unitValue":{"type":"number","description":"Value per unit"}}},"example":{"fund":"Updated Growth Fund I","unitValue":105}}}},"responses":{"200":{"description":"Loan asset updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanAsset"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan asset not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Loan Assets"],"summary":"Delete a loan asset","description":"Removes a loan asset from the system.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan asset to delete."}],"responses":{"204":{"description":"Loan asset deleted successfully."},"404":{"description":"Loan asset not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{loanApplicationId}/incomes":{"get":{"tags":["Loan Incomes"],"summary":"Retrieve all loan incomes for a loan application","description":"Fetches a list of all income sources associated with a specific loan application. Supports pagination, sorting, and field selection.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of loan incomes.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/LoanIncome"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Loan Incomes"],"summary":"Create a new loan income for a loan application","description":"Adds a new income source associated with a specific loan application. The loan application ID is taken from the path.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanIncome"},"example":{"name":"Salary - Tech Corp","amount":85000,"currency":"USD","year":2024,"period":"YEARLY","phone":"+1-555-0123"}}}},"responses":{"201":{"description":"Loan income created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanIncome"}}}]}}}},"400":{"description":"Bad Request - Invalid input data or missing loan application ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan application not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loan-applications/{loanApplicationId}/incomes/{id}":{"get":{"tags":["Loan Incomes"],"summary":"Retrieve a specific loan income by ID","description":"Fetches details for a single loan income.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan income to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved loan income details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanIncome"}}}]}}}},"404":{"description":"Loan income not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Loan Incomes"],"summary":"Update an existing loan income","description":"Modifies fields of an existing loan income.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan income to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Income source name or description"},"amount":{"type":"number","description":"Income amount"},"currency":{"type":"string","description":"Currency of the income amount"},"year":{"type":"number","description":"The year this income applies to"},"period":{"type":"string","description":"The period frequency of this income"}}},"example":{"name":"Updated Salary - Tech Corp","amount":90000}}}},"responses":{"200":{"description":"Loan income updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/LoanIncome"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan income not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Loan Incomes"],"summary":"Delete a loan income","description":"Removes a loan income from the system.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account"},{"in":"path","name":"loanApplicationId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan application"},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan income to delete."}],"responses":{"204":{"description":"Loan income deleted successfully."},"404":{"description":"Loan income not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loans":{"get":{"tags":["Loans"],"summary":"Retrieve all loans for a specific account","description":"Fetches a list of all loans associated with the given account ID. Supports pagination, sorting, and field selection.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to retrieve loans for."},{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of loans.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Loan"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Loans"],"summary":"Create a new loan for an account","description":"Adds a new loan associated with a specific account. The account ID is taken from the path.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account to associate the loan with."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Loan"},"example":{"name":"Personal Loan Q3","balanceOpen":50000,"balanceCurrent":50000,"currency":"USD","dateOpen":"2024-01-15","dateClose":"2027-01-15"}}}},"responses":{"201":{"description":"Loan created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Loan"}}}]}}}},"400":{"description":"Bad Request - Invalid input data or missing accountId","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Account not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/accounts/{accountId}/loans/{id}":{"get":{"tags":["Loans"],"summary":"Retrieve a specific loan by ID","description":"Fetches details for a single loan.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved loan details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Loan"}}}]}}}},"404":{"description":"Loan not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Loans"],"summary":"Update an existing loan","description":"Modifies fields of an existing loan.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Loan"},"example":{"name":"Updated Personal Loan","balanceCurrent":35000,"dateClose":"2026-06-15"}}}},"responses":{"200":{"description":"Loan updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Loan"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Loan not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Loans"],"summary":"Delete a loan","description":"Removes a loan from the system.","parameters":[{"in":"path","name":"accountId","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the account."},{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the loan to delete."}],"responses":{"204":{"description":"Loan deleted successfully."},"404":{"description":"Loan not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/organizations":{"get":{"tags":["Organizations"],"summary":"Retrieve a list of organizations","description":"Fetches a list of all organizations. Supports filtering, pagination, sorting, and field selection.","parameters":[{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of organizations.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Organization"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Organizations"],"summary":"Create a new organization","description":"Adds a new organization to the system.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"},"example":{"name":"Acme Corporation","type":"client","status":"active","domain":"acme.com","contactEmail":"admin@acme.com","contactName":"John Smith","settings":{}}}}},"responses":{"201":{"description":"Organization created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Organization"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/organizations/{id}":{"get":{"tags":["Organizations"],"summary":"Retrieve a specific organization","description":"Fetches a single organization by its unique identifier.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The unique identifier of the organization"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Organization details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Organization"}}}]}}}},"404":{"description":"Organization not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"put":{"tags":["Organizations"],"summary":"Update a specific organization","description":"Updates an existing organization by its unique identifier.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The unique identifier of the organization"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"},"example":{"name":"Acme Corporation Updated","status":"suspended","contactEmail":"newadmin@acme.com"}}}},"responses":{"200":{"description":"Organization updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/Organization"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Organization not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Organizations"],"summary":"Delete a specific organization","description":"Soft deletes an organization by its unique identifier.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The unique identifier of the organization"}],"responses":{"204":{"description":"Organization deleted successfully."},"404":{"description":"Organization not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/profile":{"get":{"tags":["User Profile"],"summary":"Retrieve current user's profile","description":"Fetches the authenticated user's profile information. The user can only access their own profile data.","parameters":[{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved user profile details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"401":{"description":"Unauthorized - Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"put":{"tags":["User Profile"],"summary":"Update current user's profile","description":"Modifies the authenticated user's profile information. Users can only update their own profile data.","parameters":[{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"nameGiven":"Jane","nameMiddle":"Elizabeth","nameFamily":"Smith","email":"jane.smith@example.com","phone":"+1-555-9876","secId":"SEC87654321"}}}},"responses":{"200":{"description":"User profile updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - Authentication required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/register":{"post":{"tags":["Authentication"],"summary":"Register a new user","description":"Creates a new user account with email verification","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/confirm":{"post":{"tags":["Authentication"],"summary":"Confirm user registration","description":"Confirms user email address with verification code","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","format":"email"},"confirmationCode":{"type":"string"}},"required":["username","confirmationCode"]}}}},"responses":{"200":{"description":"Email confirmed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/login":{"post":{"tags":["Authentication"],"summary":"User login","description":"Authenticates a user and returns access tokens","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/AuthResponse"}}}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - Invalid credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/logout":{"post":{"tags":["Authentication"],"summary":"User logout","description":"Logs out a user and invalidates their session","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string","description":"The access token to invalidate"}},"required":["accessToken"]}}}},"responses":{"200":{"description":"Logout successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/user/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh access tokens","description":"Refreshes the access token using a valid refresh token","security":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"refreshToken":{"type":"string","description":"The refresh token"}},"required":["refreshToken"]}}}},"responses":{"200":{"description":"Token refresh successful","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/AuthResponse"}}}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"401":{"description":"Unauthorized - Invalid refresh token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/admin/users":{"get":{"tags":["Users"],"summary":"Retrieve a list of users","description":"Fetches a list of all users. Supports filtering, pagination, sorting, and field selection.","parameters":[{"$ref":"#/components/parameters/LimitParam"},{"$ref":"#/components/parameters/OffsetParam"},{"$ref":"#/components/parameters/OrderParam"},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"A list of users.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}]}}}},"400":{"description":"Bad Request - Invalid query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error on query parameters","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"post":{"tags":["Users"],"summary":"Create a new user","description":"Adds a new user to the system.","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"nameGiven":"John","nameFamily":"Doe","email":"john.doe@example.com","phone":"555-0123","type":"individual"}}}},"responses":{"201":{"description":"User created successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/admin/users/{id}":{"get":{"tags":["Users"],"summary":"Retrieve a specific user by ID","description":"Fetches details for a single user by their ID.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the user to retrieve."},{"$ref":"#/components/parameters/FieldsParam"}],"responses":{"200":{"description":"Successfully retrieved user details.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"404":{"description":"User not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"patch":{"tags":["Users"],"summary":"Update an existing user","description":"Modifies fields of an existing user.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the user to update."},{"$ref":"#/components/parameters/FieldsParam"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"example":{"email":"updated.email@example.com","phone":"555-9999","type":"manager"}}}},"responses":{"200":{"description":"User updated successfully.","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/SuccessResponse"},{"type":"object","properties":{"data":{"$ref":"#/components/schemas/User"}}}]}}}},"400":{"description":"Bad Request - Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"User not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Unprocessable Entity - Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}},"delete":{"tags":["Users"],"summary":"Delete a user","description":"Removes a user from the system.","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"The ID of the user to delete."}],"responses":{"204":{"description":"User deleted successfully."},"404":{"description":"User not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}}},"tags":[]}